<%- model_class = Client -%>
<div class="panel panel-default">
  <div class="panel-heading">
    <%=t '.title', :default => model_class.model_name.human.titleize %>

    <%= link_to t('.edit', :default => t("helpers.links.edit")),
                  edit_client_path(@client), :class => 'btn btn-default' %>
    <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                  client_path(@client),
                  :method => 'delete',
                  :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
                  :class => 'btn btn-danger' %>
  </div>
  <div class="panel-body">
    <div class="col-xs-6">
      <dl class="dl-horizontal">
        <dt><strong><%= model_class.human_attribute_name(:name) %>:</strong></dt>
        <dd><%= @client.name %></dd>
        <dt><strong><%= model_class.human_attribute_name(:cuit) %>:</strong></dt>
        <dd><%= @client.cuit %></dd>
        <dt><strong><%= model_class.human_attribute_name(:category_id) %>:</strong></dt>
        <dd><%= @client.category.name %></dd>
      </dl>
    </div>

    <div class="col-xs-6">
      <dl class="dl-horizontal">
        <dt><strong><%= model_class.human_attribute_name(:city) %>:</strong></dt>
        <dd><%= @client.city %></dd>
        <dt><strong><%= model_class.human_attribute_name(:postal_code) %>:</strong></dt>
        <dd><%= @client.postal_code %></dd>
        <dt><strong><%= model_class.human_attribute_name(:address) %>:</strong></dt>
        <dd><%= @client.address %></dd>
        <dt><strong><%= model_class.human_attribute_name(:phone) %>:</strong></dt>
        <dd><%= @client.phone %></dd>
        <dt><strong><%= model_class.human_attribute_name(:email) %>:</strong></dt>
        <dd><%= @client.email %></dd>
      </dl>
    </div>
  </div>
</div>


<%- model_class = Contact -%>
<div class="panel panel-default">
  <div class="panel-heading">
    <%=t '.title', :default => model_class.model_name.human.pluralize.titleize %>

    <%= link_to t('.new', :default => t("helpers.links.new")),
            new_contact_path,
            :class => 'btn btn-primary' %>
  </div>
  <% if @client.contacts.any? %>
    <table class="table table-striped">
      <thead>
        <tr>
          <th><%= model_class.human_attribute_name(:id) %></th>
          <th><%= model_class.human_attribute_name(:name) %></th>
          <th><%= model_class.human_attribute_name(:lastname) %></th>
          <th><%= model_class.human_attribute_name(:phone) %></th>
          <th><%= model_class.human_attribute_name(:email) %></th>
          <th><%= model_class.human_attribute_name(:charge) %></th>
          <th><%= model_class.human_attribute_name(:client_id) %></th>
          <th><%=t '.actions', :default => t("helpers.actions") %></th>
        </tr>
      </thead>
      <tbody>
        <% @client.contacts.each do |contact| %>
          <tr>
            <td><%= link_to contact.id, contact_path(contact) %></td>
            <td><%= contact.name %></td>
            <td><%= contact.lastname %></td>
            <td><%= contact.phone %></td>
            <td><%= contact.email %></td>
            <td><%= contact.charge %></td>
            <td><%= contact.client.name %></td>
            <td>
              <%= link_to t('.edit', :default => t("helpers.links.edit")),
                          edit_contact_path(contact), :class => 'btn btn-default btn-xs' %>
              <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                          contact_path(contact),
                          :method => :delete,
                          :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
                          :class => 'btn btn-xs btn-danger' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <div class="panel-footer">
      You have no contacts.
    </div>
  <% end %>
</div>